<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><!-- InstanceBegin template="/Templates/Instruction.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<!-- InstanceBeginEditable name="doctitle" -->
<title>Agilla</title>
<!-- InstanceEndEditable -->
<link rel="stylesheet" href="../styles.css" type="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- InstanceBeginEditable name="head" -->
<!-- InstanceEndEditable -->
</head>

<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><h1><!-- InstanceBeginEditable name="Instruction" -->putled<!-- InstanceEndEditable --></h1>
	</td>
    <td align="right"><h1>Class: <!-- InstanceBeginEditable name="Class" -->B<!-- InstanceEndEditable --></h1></td>
  </tr>
  <tr><td></td><td align="right"><font size="-2">(<a href="classes.html">legend</a>)</font></td>
  </tr>
</table>
<hr>
<table width="100%" border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="35%" bgcolor="#CCCCCC"><strong>Operand Stack</strong></td>
    <td width="35%" bgcolor="#CCCCCC"><strong>Heap</strong></td>
    <td width="30%" bgcolor="#CCCCCC"><strong>Condition Codes</strong></td>	
  </tr>
  <tr>
  <td width="40%" valign="top">
<ul>
  <li><em>Initial (operands):</em>
    <blockquote>
  <!-- InstanceBeginEditable name="operands" -->value or reading<!-- InstanceEndEditable -->  
    </blockquote>
  </li>
  <li><em>Final (return values):</em>
	<blockquote>
	 <!-- InstanceBeginEditable name="return" -->N/A<!-- InstanceEndEditable --> 
  	</blockquote>
  </li>
</ul></td>
<td valign="top"><!-- InstanceBeginEditable name="Heap" -->N/A<!-- InstanceEndEditable --></td>
<td valign="top"><!-- InstanceBeginEditable name="condition" -->N/A<!-- InstanceEndEditable --></td>
  </tr>
</table>

<h2>Description</h2>
<!-- InstanceBeginEditable name="MainText" -->
<table width="100%" border="1" bordercolor="#000000">
  <!-- <tr>

    <td>depth</td>

    <td>Push stack depth</td>

    <td>0x05</td>

    <td>&nbsp;</td>

    <td>[value]</td>

    <td width="100%">Pushes the depth of the agent's operand stack onto the stack as a value;

      the depth is the value before executing this operation.</td>

  </tr> -->
  -
  <!-- <tr>

    <td>err</td>

    <td>Enter error state</td>

    <td>0x06</td>

    <td>&nbsp;</td>

    <td>&nbsp;</td>

    <td width="100%">Forces the agent executing this instruction to enter an error state.

      Halts execution.</td>

  </tr>-->
  <!--

  <tr bgcolor="#FF66FF">

    <td><font color="#FF0000"><em>startsense<br>

          <strong>[N/A]</strong></em></font></td>

    <td><font color="#FF0000"><em>Start getting sensor data</em></font></td>

    <td><font color="#FF0000"><em>0x11</em></font></td>

    <td><font color="#FF0000"><em>[value=sensor],<br>

    [value=period]</em></font></td>

    <td><font color="#FF0000">&nbsp;</font></td>

    <td><p><font color="#FF0000"><em>Pops two values off the operand stack. The first value specifies the

        type of sensor, the second specifies the period. It tells the host to

        start taking sensor

        measurements,

        the host

        will put the sensor

        readings

        into

        the host-level

        tuple space using

        pre-defined

        names

      at the specified interval.</em></font></p>

      <ul>

        <li><font color="#FF0000"><em>Photo = 1, name = &quot;sdp&quot;</em></font></li>

        <li><font color="#FF0000"><em>Temp = 2, name = &quot;sdt&quot;</em></font></li>

        <li><font color="#FF0000"><em>Microphone = 3, name = &quot;sdm&quot;</em></font></li>

        <li><font color="#FF0000"><em>Magnometer X and Y= 4, name = &quot;sdx&quot; and &quot;sdy&quot;</em></font></li>

        <li><font color="#FF0000"><em>Accelerometer X and Y= 5, name = &quot;sda&quot; and &quot;sdb&quot;</em></font></li>

      </ul>

      <p><font color="#FF0000"><em>The agent will then have to execute host-level tuple space operations

        to retrieve the data. To prevent overflowing the host-level tuple space,

        the previous sensor reading tuple will be removed prior to inserting

        a new

    one.</em></font></p></td>

  </tr>

  <tr bgcolor="#FF66FF">

    <td><font color="#FF0000"><em>stopsense<br>

          <strong>[N/A]</strong></em></font></td>

    <td><font color="#FF0000"><em>Stop getting sensor data</em></font></td>

    <td><font color="#FF0000"><em>0x12</em></font></td>

    <td><font color="#FF0000"><em>[value]</em></font></td>

    <td><font color="#FF0000">&nbsp;</font></td>

    <td><font color="#FF0000"><em>Pops a value off the operand stack. This value corresponds to a particular

    sensor (see instruction startsense). Tells the host to stop taking sensor

      measurements. The host will only stop if no other agents are interested

      in the sensor

      reading.</em></font></td>

  </tr>

  -->
  <tr>
    <td width="100%"><p>Takes a single operand and lights the LEDs as follows. <br>
            <br>
        If the operand is a value: It uses the lowest five bits of the operand
        to determine how to actuate the LEDs. The lowest three bits denote the
        3 LEDs; bit 0 is red, bit 1 is green, and bit 2 is yellow. The next two
        bits (3 and 4) specify which operation to apply; 00 is set, 01 is off
        (active on 0), 10 is on, and 11 is toggle. For example, 31 (0x1f) toggles
        all three LEDs, 19 turns the red and green off (leaving yellow unchanged),
        and 0x2 sets the LEDS to be red off, green on, and yellow off.<br>
      </p>
        <table width="400" border="0" align="center" cellpadding="2" cellspacing="2">
          <tr bgcolor="#CCCCCC">
            <td><strong>Operation</strong></td>
            <td><div align="center"><strong>Binary Value</strong></div>
            </td>
            <td><div align="center"><strong>Decimal Value</strong></div>
            </td>
          </tr>
          <tr>
            <td>set only red on</td>
            <td><div align="center">00001</div>
            </td>
            <td><div align="center">1</div>
            </td>
          </tr>
          <tr>
            <td>set only green on</td>
            <td><div align="center">00010</div>
            </td>
            <td><div align="center">2</div>
            </td>
          </tr>
          <tr>
            <td>set only yellow on</td>
            <td><div align="center">00100</div>
            </td>
            <td><div align="center">4</div>
            </td>
          </tr>
          <tr>
            <td>Toggle red</td>
            <td><div align="center">11001</div>
            </td>
            <td><div align="center">25</div>
            </td>
          </tr>
          <tr>
            <td>Toggle green</td>
            <td><div align="center">11010</div>
            </td>
            <td><div align="center">26</div>
            </td>
          </tr>
          <tr>
            <td>Toggle yellow</td>
            <td><div align="center">11100</div>
            </td>
            <td><div align="center">28</div>
            </td>
          </tr>
          <tr>
            <td>Toggle all 3 LEDs</td>
            <td><div align="center">11111</div>
            </td>
            <td><div align="center">31</div>
            </td>
          </tr>
          <tr>
            <td>Turn off red</td>
            <td><div align="center">01110</div>
            </td>
            <td><div align="center">14</div>
            </td>
          </tr>
          <tr>
            <td>Turn off green</td>
            <td><div align="center">01101</div>
            </td>
            <td><div align="center">13</div>
            </td>
          </tr>
          <tr>
            <td>Turn off yellow</td>
            <td><div align="center">01011</div>
            </td>
            <td><div align="center">11</div>
            </td>
          </tr>
          <tr>
            <td>Turn off all 3 LEDs</td>
            <td><div align="center">01000</div>
            </td>
            <td><div align="center">8</div>
            </td>
          </tr>
          <tr>
            <td>Turn on red</td>
            <td><div align="center">10001</div>
            </td>
            <td><div align="center">17</div>
            </td>
          </tr>
          <tr>
            <td>Turn on green</td>
            <td><div align="center">10010</div>
            </td>
            <td><div align="center">18</div>
            </td>
          </tr>
          <tr>
            <td>Turn on yellow</td>
            <td><div align="center">10100</div>
            </td>
            <td><div align="center">20</div>
            </td>
          </tr>
          <tr>
            <td>Turn on all LEDs</td>
            <td><div align="center">10111</div>
            </td>
            <td><div align="center">23</div>
            </td>
          </tr>
        </table>
        <p><br>
        If the operand is a reading, it simply displays the lower 3 bits in on
          the LEDs.</p>
    </td>
  </tr>
  <!--
  <tr>

    <td>shiftr</td>

    <td>Shift right</td>

    <td>0x27</td>

    <td>[value1], [value2]</td>

    <td>[value]</td>

    <td width="100%">Pop [value1] and [value2] off the stack. Shift [value2]

      right by [value1] bits and push resulting value back onto the stack.</td>

  </tr>

  <tr>

    <td>shiftl</td>

    <td>Shift left</td>

    <td>0x28</td>

    <td>[value1], [value2]</td>

    <td>[value]</td>

    <td width="100%">Pop [value1] and [value2] off the stack. Shift [value2] left by [value1] bits and push resulting value back onto the stack.</td>

  </tr>
  -->
</table>
<!-- InstanceEndEditable -->
<br><br>
<!-- InstanceBeginEditable name="update" --> <em>This page was last updated
on 
<!-- #BeginDate format:Am1a -->December 6, 2005 6:16 PM<!-- #EndDate -->.</em><!-- InstanceEndEditable -->
<hr>This work is supported by the <a href="http://formal.cs.uiuc.edu/contessa">ONR MURI Project CONTESSA</a> 
and the <a href="http://www.nsf.gov/">NSF</a> under grant number CCR-9970939.
</body>
<!-- InstanceEnd --></html>
