//$Id: msp430baudrates.h,v 1.1 2005/07/29 18:29:28 adchristian Exp $
//@author Vlado Handziski <handzisk@tkn.tu-berlin.de>

#ifndef _H_msp430baudrates_h
#define _H_msp430baudrates_h

/**
Parameters for HPLUSARTControl.setClockRate() that generate some standard baud rates.
Usage is setClockRate(UBR_CLOCK_BAUDRATE, UMCTL_CLOCK_BAUDRATE), see HPLUARTM.nc for an example.

The calculations were performed using the msp-uart.pl script:
# msp-uart.pl -- calculates the uart registers for MSP430
#
# Copyright (C) 2002 - Pedro Zorzenon Neto - pzn dot debian dot org


**/

#include "clock_settings.h"

enum {
//Using ACLK=32768Hz
UBR_ACLK_1200=0x001B,    UMCTL_ACLK_1200=0x94,
UBR_ACLK_1800=0x0012,    UMCTL_ACLK_1800=0x84,
UBR_ACLK_2400=0x000D,    UMCTL_ACLK_2400=0x6D,
UBR_ACLK_4800=0x0006,    UMCTL_ACLK_4800=0x77,
UBR_ACLK_9600=0x0003,    UMCTL_ACLK_9600=0x29,

#if SMCLK_KHZ == 128 // SMCLK = 131072 Hz
UBR_SMCLK_1200=0x006d,   UMCTL_SMCLK_1200=0x44,
UBR_SMCLK_1800=0x0048,   UMCTL_SMCLK_1800=0x7b,
UBR_SMCLK_2400=0x0036,   UMCTL_SMCLK_2400=0xb5,
UBR_SMCLK_4800=0x001b,   UMCTL_SMCLK_4800=0x94,
UBR_SMCLK_9600=0x000d,   UMCTL_SMCLK_9600=0x6d,
UBR_SMCLK_19200=0x0006,   UMCTL_SMCLK_19200=0x77,
UBR_SMCLK_38400=0x0003,   UMCTL_SMCLK_38400=0x29,
UBR_SMCLK_57600=0x0002,   UMCTL_SMCLK_57600=0x22,
UBR_SMCLK_76800=0x0001,   UMCTL_SMCLK_76800=0xdd,
UBR_SMCLK_115200=0x0001,   UMCTL_SMCLK_115200=0x08,

#elif SMCLK_KHZ == 256 // SMCLK = 262144 Hz
UBR_SMCLK_1200=0x00da,   UMCTL_SMCLK_1200=0xaa,
UBR_SMCLK_1800=0x0091,   UMCTL_SMCLK_1800=0xad,
UBR_SMCLK_2400=0x006d,   UMCTL_SMCLK_2400=0x44,
UBR_SMCLK_4800=0x0036,   UMCTL_SMCLK_4800=0xb5,
UBR_SMCLK_9600=0x001b,   UMCTL_SMCLK_9600=0x94,
UBR_SMCLK_19200=0x000d,   UMCTL_SMCLK_19200=0x6d,
UBR_SMCLK_38400=0x0006,   UMCTL_SMCLK_38400=0x77,
UBR_SMCLK_57600=0x0004,   UMCTL_SMCLK_57600=0x55,
UBR_SMCLK_76800=0x0003,   UMCTL_SMCLK_76800=0x29,
UBR_SMCLK_115200=0x0002,   UMCTL_SMCLK_115200=0x22,
UBR_SMCLK_230400=0x0001,   UMCTL_SMCLK_230400=0x08,
UBR_SMCLK_262144=0x0001,   UMCTL_SMCLK_262144=0x00,

#elif SMCLK_KHZ == 512 // SMCLK = 524288 Hz 
UBR_SMCLK_1200=0x01b4,   UMCTL_SMCLK_1200=0xdf,
UBR_SMCLK_1800=0x0123,   UMCTL_SMCLK_1800=0x22,
UBR_SMCLK_2400=0x00da,   UMCTL_SMCLK_2400=0xaa,
UBR_SMCLK_4800=0x006d,   UMCTL_SMCLK_4800=0x44,
UBR_SMCLK_9600=0x0036,   UMCTL_SMCLK_9600=0xb5,
UBR_SMCLK_19200=0x001b,   UMCTL_SMCLK_19200=0x94,
UBR_SMCLK_38400=0x000d,   UMCTL_SMCLK_38400=0x6d,
UBR_SMCLK_57600=0x0009,   UMCTL_SMCLK_57600=0x10,
UBR_SMCLK_76800=0x0006,   UMCTL_SMCLK_76800=0x77,
UBR_SMCLK_115200=0x0004,   UMCTL_SMCLK_115200=0x55,
UBR_SMCLK_230400=0x0002,   UMCTL_SMCLK_230400=0x22,
UBR_SMCLK_262144=0x0002,   UMCTL_SMCLK_262144=0x00,

#elif SMCLK_KHZ == 1024  //  SMCLK = 1048576 Hz
UBR_SMCLK_1200=0x0369,   UMCTL_SMCLK_1200=0x7B,
UBR_SMCLK_1800=0x0246,   UMCTL_SMCLK_1800=0x55,
UBR_SMCLK_2400=0x01B4,   UMCTL_SMCLK_2400=0xDF,
UBR_SMCLK_4800=0x00DA,   UMCTL_SMCLK_4800=0xAA,
UBR_SMCLK_9600=0x006D,   UMCTL_SMCLK_9600=0x44,
UBR_SMCLK_19200=0x0036,  UMCTL_SMCLK_19200=0xB5,
UBR_SMCLK_38400=0x001B,  UMCTL_SMCLK_38400=0x94,
UBR_SMCLK_57600=0x0012,  UMCTL_SMCLK_57600=0x84,
UBR_SMCLK_76800=0x000D,  UMCTL_SMCLK_76800=0x6D,
UBR_SMCLK_115200=0x0009, UMCTL_SMCLK_115200=0x10,
UBR_SMCLK_230400=0x0004, UMCTL_SMCLK_230400=0x55,
UBR_SMCLK_262144=4,      UMCTL_SMCLK_262144=0,

#elif SMCLK_KHZ == 2048   // SMCLK = 2097152 Hz
UBR_SMCLK_1200=0x06d3,   UMCTL_SMCLK_1200=0xad,
UBR_SMCLK_1800=0x048d,   UMCTL_SMCLK_1800=0x20,
UBR_SMCLK_2400=0x0369,   UMCTL_SMCLK_2400=0x7b,
UBR_SMCLK_4800=0x01b4,   UMCTL_SMCLK_4800=0xdf,
UBR_SMCLK_9600=0x00da,   UMCTL_SMCLK_9600=0xaa,
UBR_SMCLK_19200=0x006d,   UMCTL_SMCLK_19200=0x44,
UBR_SMCLK_38400=0x0036,   UMCTL_SMCLK_38400=0xb5,
UBR_SMCLK_57600=0x0024,   UMCTL_SMCLK_57600=0x29,
UBR_SMCLK_76800=0x001b,   UMCTL_SMCLK_76800=0x94,
UBR_SMCLK_115200=0x0012,   UMCTL_SMCLK_115200=0x84,
UBR_SMCLK_230400=0x0009,   UMCTL_SMCLK_230400=0x10,
UBR_SMCLK_262144=0x0008,   UMCTL_SMCLK_262144=0x00,

#elif SMCLK_KHZ == 4096   // SMCLK = 4194304 Hz
UBR_SMCLK_1200=0x0da7,   UMCTL_SMCLK_1200=0x22,
UBR_SMCLK_1800=0x091a,   UMCTL_SMCLK_1800=0x84,
UBR_SMCLK_2400=0x06d3,   UMCTL_SMCLK_2400=0xad,
UBR_SMCLK_4800=0x0369,   UMCTL_SMCLK_4800=0x7b,
UBR_SMCLK_9600=0x01b4,   UMCTL_SMCLK_9600=0xdf,
UBR_SMCLK_19200=0x00da,   UMCTL_SMCLK_19200=0xaa,
UBR_SMCLK_38400=0x006d,   UMCTL_SMCLK_38400=0x44,
UBR_SMCLK_57600=0x0048,   UMCTL_SMCLK_57600=0x7b,
UBR_SMCLK_76800=0x0036,   UMCTL_SMCLK_76800=0xb5,
UBR_SMCLK_115200=0x0024,   UMCTL_SMCLK_115200=0x29,
UBR_SMCLK_230400=0x0012,   UMCTL_SMCLK_230400=0x84,
UBR_SMCLK_262144=0x0010,   UMCTL_SMCLK_262144=0x00,

#else 
#error "I don't have a valid clock rate for the UART"

#endif
};


#endif //_H_msp430baudrates_h
