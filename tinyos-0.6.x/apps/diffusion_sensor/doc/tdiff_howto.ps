%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: tdiff_howto.dvi
%%Pages: 9
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Times-Roman Times-Bold Times-Italic Courier
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -o tdiff_howto.ps tdiff_howto.dvi
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2002.04.06:1448
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "1 July 1998",
%   filename = "8r.enc",
%   email = "tex-fonts@@tug.org",
%   docstring = "Encoding for TrueType or Type 1 fonts
%                to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both 
% ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600 (tdiff_howto.dvi)
@start /Fa 139[21 1[29 3[37 1[21 33 1[21 2[21 33 37 33
37 37 97[{TeXBase1Encoding ReEncodeFont}12 74.7198 /Times-Italic
rf
%DVIPSBitmapFont: Fb cmr10 10.95 3
/Fb 3 62 df<EB01FE90380FFFC090383F03F090387C00F849137C48487F48487F4848EB
0F80A2000F15C04848EB07E0A3003F15F0A290C712034815F8A64815FCB3A26C15F8A56C
6CEB07F0A3001F15E0A36C6CEB0FC0A26C6CEB1F80000315006C6C133E6C6C5B017C5B90
383F03F090380FFFC0D901FEC7FC263F7DBC2D>48 D<EB01C013031307131F137FEA07FF
B5FC139FEAF81F1200B3B3ACEB7FF0B612F8A31D3D78BC2D>I<007FB912E0BA12F0A26C
18E0CDFCAE007FB912E0BA12F0A26C18E03C167BA147>61 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fc cmmi10 10.95 8
/Fc 8 122 df<ED0180ED03C01507A21680150FA216005DA2151E153EA2153C157CA215
7815F8A25D1401A25D1403A25D1407A25D140FA24AC7FCA2141E143EA2143C147CA21478
14F8A25C1301A25C1303A25C1307A25C130FA291C8FC5BA2131E133EA25BA2137813F8A2
5B1201A25B1203A25B1207A25B120FA290C9FC5AA2121E123EA2123C127CA2127812F8A2
5A1260225B7BC32D>61 D<49B712F818FF19C0D9000190C7EA3FF0F00FF84BEC03FCF000
FE197F0203EE3F805DF11FC0A20207EE0FE05D1AF0A2020F16075DA21AF8141F5DA2190F
143F5DA21AF0147F4B151FA302FF17E092C9123FA21AC049177F5C1A8019FF010318005C
4E5A61010716034A5E4E5A180F010F4C5A4A5E4E5A4EC7FC011F16FE4A4A5AEF07F8013F
ED0FE0EF3FC04A49B4C8FC017FEC0FFCB812F017C004FCC9FC453E7DBD4B>68
D<49B612C05BA2D90001EB800093C7FC5DA314035DA314075DA3140F5DA3141F5DA3143F
5DA3147F5DA314FF92C8FCA35B5CA313035CA313075CA3130F5CA3131F5CA2133FA25CEB
FFE0B612E0A32A3E7DBD28>73 D<EE07F0ED03FF17E0A2ED000FA217C0A2161FA21780A2
163FA21700A25EA2167EA216FEA25EEC1F80ECFFE1903803F07190390FC039F890381F80
1D90383F000F137E495C00011407485A485A5E485A001F140FA248485CA2151F127F495C
A2153F12FF90C790C7FCA25DEE038048147EA215FE1607007ED901FC130014035E6C0107
130E140E3A1F801C7C1C000F13783A07C1F03E383A01FFC01FF03A007F0007C02C407DBE
2F>100 D<01F8D907F0EB07F8D803FED93FFEEB1FFE28078F80F81FEB781F3E0F0F81C0
0F81E00F803E0E07C78007C3C007C0001CD9CF00EBC78002FEDAEF007F003C4914FE0038
495C49485C12780070495CA200F0494948130F011F600000495CA2041F141F013F6091C7
5B193F043F92C7FC5B017E92C75A197E5E01FE9438FE01C049027E14FCA204FE01011303
000106F81380495CF20700030115F00003190E494A151E1A1C03035E0007943800F8F049
4AEC7FE0D801C0D900E0EC1F804A297EA750>109 D<EC07F8EC7FFE903901FC0F809039
07E007E090390FC003F090393F8001F8EB7F0001FEEB00FC485A484814FEA2485A120F5B
001F15FF485AA2ED01FE127F5BA2150300FF15FC90C7FCA2ED07F8A2ED0FF0A2007E15E0
007FEC1FC0ED3F80A26CEC7F006C6C13FC4A5A6C6C485A3907E00FC02601F03FC7FC3800
FFFCEB1FE028297DA72C>111 D<D901F8133FD907FEEBFFE0903A1E0F83C0F0903A3807
C780F890397003CF0301E013FED801C0EBFC071203018013F8D8070015F0EE01C0000E4A
C7FCA2001E1307A2C75BA2140F5DA3141F5DA3143F92380001C0A34A1303001E1680003F
017E1307267F80FE14005ED8FF81141ED901DF131CD8FE035C3A7C078F80F03A3C0F07C1
E03A1FFC03FF802707F0007EC7FC2D297EA734>120 D<137C48B4EC03802603C7C0EB0F
C0EA0703000F7F000E151F001C168013071238163FD8780F150000705BA2D8F01F5C4A13
7E1200133F91C712FE5E5B137E150113FE495CA2150300015D5BA215075EA2150F151F00
005D6D133F017C137F017E13FF90393F03DF8090380FFF1FEB01FC90C7123F93C7FCA25D
D80380137ED80FE013FE001F5C4A5AA24848485A4A5A6CC6485A001C495A001E49C8FC00
0E137C380781F03803FFC0C648C9FC2A3B7EA72D>I E
%EndDVIPSBitmapFont
/Fd 134[55 55 55 55 55 55 55 55 1[55 55 55 55 55 55 1[55
55 55 55 55 55 55 55 55 55 55 1[55 1[55 4[55 1[55 55
55 3[55 4[55 55 2[55 55 55 1[55 2[55 55 55 1[55 3[55
55 55 55 55 55 55 55 55 55 55 2[55 55 55 2[55 2[55 33[{
TeXBase1Encoding ReEncodeFont}58 90.9091 /Courier rf
/Fe 134[37 37 54 37 37 21 29 25 37 37 37 37 58 21 37
21 21 37 37 25 33 37 33 37 33 9[71 54 54 46 42 50 2[54
54 66 46 54 29 25 54 1[42 46 54 50 50 54 10[37 1[37 37
37 37 37 21 19 1[19 42 37 8[25 29[42 42 2[{
TeXBase1Encoding ReEncodeFont}59 74.7198 /Times-Roman
rf /Ff 198[25 25 25 25 25 25 25 25 25 25 48[{
TeXBase1Encoding ReEncodeFont}10 49.8132 /Times-Roman
rf /Fg 134[40 40 61 40 45 25 35 35 1[45 45 45 66 25 40
1[25 45 45 25 40 45 40 45 45 12[51 45 56 1[56 66 61 76
1[61 1[30 66 2[56 66 2[56 12[45 4[25 23 30 23 10[30 33[{
TeXBase1Encoding ReEncodeFont}42 90.9091 /Times-Italic
rf
%DVIPSBitmapFont: Fh cmsy10 10.95 1
/Fh 1 16 df<EB0FFCEB3FFF90B512C0000314F04880488048804880A2481580A3B712C0
AA6C1580A36C1500A26C5C6C5C6C5C6C5CC614C0013F90C7FCEB0FFC22227BA72D>15
D E
%EndDVIPSBitmapFont
/Fi 198[33 33 33 33 33 33 33 33 33 33 48[{TeXBase1Encoding ReEncodeFont}
10 66.4176 /Times-Roman rf /Fj 136[72 1[55 33 39 44 55
55 50 55 83 28 55 1[28 1[50 33 44 55 44 1[50 7[72 1[100
2[66 55 72 78 61 78 6[78 1[61 1[72 72 66 72 12[50 50
50 50 2[25 46[{TeXBase1Encoding ReEncodeFont}38 99.6264
/Times-Bold rf /Fk 105[45 1[40 25[40 45 45 66 45 45 25
35 30 45 45 45 45 71 25 45 25 25 45 45 30 40 45 40 45
40 3[30 1[30 1[66 66 86 66 66 56 51 61 66 51 66 66 81
56 1[35 30 66 66 51 56 66 61 61 66 3[51 1[25 25 45 45
45 45 45 45 45 45 45 45 25 23 30 23 51 1[30 30 30 35[51
51 2[{TeXBase1Encoding ReEncodeFont}77 90.9091 /Times-Roman
rf /Fl 105[45 28[45 45 1[45 51 30 35 40 1[51 45 51 76
25 51 1[25 51 45 30 40 51 40 1[45 9[91 1[66 61 51 66
1[56 1[66 86 3[35 71 71 56 61 66 66 1[66 6[30 1[45 45
2[45 45 45 45 2[23 46[{TeXBase1Encoding ReEncodeFont}46
90.9091 /Times-Bold rf /Fm 134[60 60 2[66 40 47 53 2[60
66 2[66 1[33 1[60 40 53 66 53 1[60 9[120 2[80 66 86 8[47
1[93 73 80 86 86 14[60 60 60 60 49[{TeXBase1Encoding ReEncodeFont}30
119.552 /Times-Bold rf /Fn 134[50 2[50 50 1[39 33 2[50
1[78 28 50 1[28 50 2[44 50 44 1[44 10[72 19[66 1[92 17[25
46[{TeXBase1Encoding ReEncodeFont}19 99.6264 /Times-Roman
rf /Fo 134[72 2[72 72 1[56 48 2[72 72 4[40 2[48 64 13[135
2[88 4[104 6[104 3[104 18[72 72 1[36 46[{TeXBase1Encoding ReEncodeFont}
18 143.462 /Times-Roman rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: A4

%%EndSetup
%%Page: 1 1
1 0 bop 1257 637 a Fo(T)-5 b(in)n(yDif)l(fusion)33 b(HO)-5
b(WT)m(O)1625 820 y(v)n(ersion)34 b(1.0)1489 1073 y Fn(Vladimir)23
b(Bychk)o(o)o(vskiy)1417 1189 y(vladimir@lecs.cs.ucla.edu)148
1557 y Fm(Contents)148 1764 y Fl(1)92 b(Intr)n(oduction)2915
b(1)285 1877 y Fk(1.1)96 b(T)-7 b(ar)n(get)24 b(Audience)35
b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f
(.)g(.)157 b(2)285 1990 y(1.2)96 b(Background)26 b(and)e(Related)g(W)-7
b(ork)57 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)157
b(2)285 2103 y(1.3)96 b(Features)53 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)157
b(2)285 2216 y(1.4)96 b(Prerequisites)29 b(.)45 b(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)157
b(2)148 2420 y Fl(2)92 b(Getting)23 b(Started)2805 b(3)285
2533 y Fk(2.1)96 b(Compilation)25 b(and)f(Building)h(.)46
b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)157
b(3)494 2645 y(2.1.1)110 b(MoteNIC)61 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)157 b(3)494 2758
y(2.1.2)110 b(T)m(in)o(yDif)n(fusion)34 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)157 b(4)494 2871 y(2.1.3)110
b(Host)23 b(T)-7 b(ools)84 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)h(.)f(.)g(.)157 b(4)285 2984 y(2.2)96 b(Preparation)79
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)157 b(4)494 3097 y(2.2.1)110 b(ID)22 b(assignment)89
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)157
b(4)494 3210 y(2.2.2)110 b(The)23 b(Hard)g(P)o(art:)29
b(Setting)24 b(Up)f(A)f(Communication)k(T)-7 b(opology)91
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)157 b(5)285
3323 y(2.3)96 b(Running)25 b(Dif)n(fusion)g(Queries)55
b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)157
b(6)494 3436 y(2.3.1)110 b(Disco)o(v)o(ery)40 b(.)45
b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)157
b(6)494 3549 y(2.3.2)110 b(Reinforcement)76 b(.)45 b(.)h(.)f(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)157 b(7)148 3753 y
Fl(3)92 b(Extending)22 b(T)n(inyDiffusion)2448 b(7)285
3865 y Fk(3.1)96 b(Code)23 b(Structure)87 b(.)45 b(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)157 b(7)285
3978 y(3.2)96 b(Ho)n(w)22 b(to)h(Build)h(Y)-10 b(our)24
b(Own)e(Application)42 b(.)j(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)157
b(8)148 4182 y Fl(4)92 b(Futur)n(e)22 b(W)-7 b(ork)2899
b(8)148 4475 y Fm(1)120 b(Intr)n(oduction)148 4682 y
Fk(This)33 b(HO)m(WT)n(O)e(is)i(for)h(people)h(who)d(are)i(interested)i
(in)d(wireless)h(embedded)h(sensor)g(netw)o(ork)f(data)g(com-)148
4795 y(munication/coordina)q(tio)q(n)k(algorithms.)57
b(This)32 b(document)j(is)d(a)g(practical)i(introduction)i(into)d(the)g
(internals)148 4908 y(of)26 b(a)e(Directed)j(Dif)n(fusion[1)s(])d
(implementation)29 b(on)c(a)g(lo)n(w-end)h(wireless)g(sensor)h(node,)g
(UCB)c(Mote)i(running)148 5021 y(T)m(in)o(yOS[4].)1920
5825 y(1)p eop
%%Page: 2 2
2 1 bop 148 273 a Fj(1.1)99 b(T)-9 b(ar)o(get)26 b(A)-5
b(udience)148 447 y Fk(This)22 b(document)h(is)e(meant)h(for)f(people)i
(who)e(are)h(interested)i(in)d(e)o(xploring,)j(using,)e(and)g(e)o
(xtending)i(our)e(imple-)148 560 y(mentation)i(of)e(Directed)g(Dif)n
(fusion.)30 b(Therefore)23 b(it)f(assumes)h(a)e(f)o(air)h(de)o(gree)h
(of)f(f)o(amiliarity)h(with)f(the)g(concepts)148 673
y(of)e(Directed)h(Dif)n(fusion.)29 b(The)19 b(reader)i(is)f(also)g
(assumed)h(to)f(at)f(least)i(ha)n(v)o(e)f(some)g(e)o(xperience)i(with)e
(UCB)e(Motes)148 786 y(and)27 b(T)m(in)o(yOS[4].)36 b(If)26
b(you)h(are)f(not)h(yet)g(f)o(amiliar)g(with)f(T)m(in)o(yOS,)e(it)i(is)
g(recommended)j(to)d(suspend)i(reading)g(of)148 899 y(this)h(document)g
(and)g(come)e(back)i(to)f(it)f(after)i(getting)h(acquainted)g(with)e
(the)g(aforementioned)k(softw)o(are)d(and)148 1012 y(hardw)o(are[2)s
(].)148 1261 y Fj(1.2)99 b(Backgr)n(ound)28 b(and)d(Related)g(W)-7
b(ork)148 1435 y Fk(Directed)30 b(Dif)n(fusion[1)s(])e(is)g(a)g
(scalable)j(coordination)h(algorithm)f(for)d(wireless)i(sensor)g(netw)o
(orks.)45 b(Initially)-6 b(,)148 1548 y(Directed)26 b(Dif)n(fusion)f(w)
o(as)f(implemented)1490 1515 y Fi(1)1553 1548 y Fk(under)i(Linux)e
(running)i(on)e(emmbedded)i(PCs[5].It)e(also)h(runs)g(un-)148
1661 y(der)f(Linux)h(on)e(iP)-8 b(A)j(Q)22 b(\(StrongARM-based)k
(handheld\))h(platform.)j(Code)24 b(and)h(memory)f(limitation)h(of)f
(motes)148 1774 y(ha)n(v)o(e)i(forced)h(a)e(complete)i
(re-implementation)j(of)25 b(Directed)i(Dif)n(fusion.)36
b(The)25 b(result,)h(T)m(in)o(yDif)n(fusion,)i(is)d(de-)148
1887 y(scribed)f(here)587 1854 y Fi(2)625 1887 y Fk(.)k(One)21
b(of)g(the)h(reasons)h(for)f(this)g(implementation)i(of)e(Directed)g
(Dif)n(fusion)h(is)f(proof)g(of)g(concept.)148 2000 y(Therefore,)j(it)e
(is)g(not)g(yet)h(implemented)h(as)e(a)g(library)-6 b(.)30
b(In)23 b(the)h(future)g(we)e(plan)i(to)g(mak)o(e)f(it)g(more)g(\003e)o
(xible)h(\(see)148 2113 y(section)i(4)d(on)g(page)i(8\).)148
2362 y Fj(1.3)99 b(F)n(eatur)n(es)148 2536 y Fk(The)22
b(feature)i(set)e(of)h(the)f(current)i(v)o(ersion)g(of)e(T)m(in)o(yDif)
n(fusion)i(is)e(some)n(what)h(limited)g(for)f(the)h(reasons)h(outlined)
148 2649 y(abo)o(v)o(e.)285 2861 y Fh(\017)46 b Fk(Algorithm)485
3049 y Fl(\226)g Fk(Initial)24 b Fg(inter)m(ests)i Fk(are)e(distrib)n
(uted)i(by)e(\003ooding.)485 3195 y Fl(\226)46 b Fk(All)22
b(data)j(messages)g(are)e Fg(br)l(oadcasted)485 3341
y Fl(\226)46 b Fk(Only)23 b Fg(one)h(path)g Fk(is)g(reinforced)285
3529 y Fh(\017)46 b Fk(Attrib)n(utes)485 3717 y Fl(\226)g
Fk(A)22 b(total)i(of)g(250)g(data)g(types)h(are)e(a)n(v)n(ailable)j(to)
e(users)485 3863 y Fl(\226)46 b Fk(Data)23 b(is)g(limited)i(to)e
(1-byte)i(inte)o(ger)g(type)289 4075 y(Out)g(of)g(the)g(box)g(T)m(in)o
(yDif)n(fusion)i(is)e(able)g(to)g(route)h(queries)h(and)e(pro)o(vide)h
(data)g(from)f(light)h(and)f(tempera-)148 4188 y(ture)i(sensors.)37
b(It)26 b(should)i(be)d(easy)i(to)f(e)o(xtend)h(T)m(in)o(yDif)n(fusion)
g(to)f(pro)o(vide)i(data)e(from)g(other)h(sensors,)h(if)d(such)148
4301 y(sensors)h(are)d(a)n(v)n(ailable.)31 b(See)23 b(section)j(3)d(on)
g(page)i(7)e(for)h(more)f(information.)148 4550 y Fj(1.4)99
b(Pr)n(er)n(equisites)148 4725 y Fk(In)24 b(order)g(to)g(use)g(T)m(in)o
(yDif)n(fusion)h(you)f(need)300 4912 y(-)46 b(at)23 b(least)h(4-5)g
(MICA)1035 4879 y Fi(3)1095 4912 y Fk(motes)300 5100
y(-)46 b(a)23 b(w)o(orking)h(T)m(in)o(yOS)f(en)l(vironment)j(and)e(A)
-12 b(VR-GCC)21 b(toolchain)26 b(\(see)e([4)q(])f(for)g(more)h
(information\))p 148 5161 1436 4 v 254 5217 a Ff(1)283
5249 y Fe(Implemented)c(by)f(F)o(abio)g(Silv)n(a)f(and)i(et.)e(al)h(at)
g(USC/ISI.)254 5310 y Ff(2)283 5342 y Fe(The)g(v)o(ery)g(\002rst)f
(implementation)i(of)f(T)m(in)o(yDif)n(fusion)g(w)o(as)g(done)h(by)g
(Deepak)g(in)e(April)h(2001.)254 5403 y Ff(3)283 5435
y Fe(Current)g(v)o(ersion)g(of)g(T)m(in)o(yDif)n(fusion)h(can)f(run)h
(on)f(rene163)h(as)f(well,)f(b)o(ut)h(it)f(is)h(not)g(recommended.)1920
5825 y Fk(2)p eop
%%Page: 3 3
3 2 bop 300 273 a Fk(-)46 b(Motenic)35 b(application,)k
Fg(moted)d Fk(dri)n(v)o(er)l(,)i Fg(kfusd)f Fk(k)o(ernel)e(module)g
(\(all)f(of)g(the)g(abo)o(v)o(e)g(can)g(be)g(obtained)376
386 y(from)23 b(the)h(SCADDS)c(CVS)i(repository[3)t(])1764
353 y Fi(4)1802 386 y Fk(\))300 560 y(-)46 b(T)m(in)o(yDif)n(fusion)23
b(source)g(code.)29 b(The)21 b(latest)i(v)o(ersion)g(of)e(the)h(code)g
(can)g(be)g(obtained)i(from)d([3)q(],)g(in)h Fg(micr)l(o-)376
672 y(teer)o(s/mote/tos/nest/ap)q(ps/)q(dif)o(fu)q(sio)q(n)p
1595 672 28 4 v 39 w(sensor)27 b Fk(subdirectory)300
846 y(-)46 b(T)m(in)o(yDif)n(fusion)23 b(host)g(side)g(tools.)30
b(A)21 b(corresponding)26 b(v)o(ersion)e(of)e(the)h(source)h(code)f(is)
f(contained)j(in)d(the)376 959 y Fg(dif)n(ftools)k Fk(subdirectory)h
(in)c(the)h(T)m(in)o(yDif)n(fusion)h(source)g(tree.)148
1245 y Fm(2)120 b(Getting)30 b(Started)148 1452 y Fk(In)24
b(this)h(section)h(you)f(will)f(learn)h(ho)n(w)f(to)g(set)g(up)h(a)e
(simple)i(sensor)h(netw)o(ork)f(and)g(ho)n(w)f(to)g(get)g(sensor)i
(data)f(out)148 1565 y(of)f(it.)148 1807 y Fj(2.1)99
b(Compilation)25 b(and)g(Building)148 1981 y Fk(Before)36
b(you)f(proceed)h(an)o(y)f(further)l(,)k(you)c(need)h(to)e(learn)i(ho)n
(w)e(to)g(compile)i(and)f(load)h(T)m(in)o(yDif)n(fusion)g(and)148
2094 y(Motenic)25 b(on)f(the)f(motes)h(and)g(ho)n(w)f(to)h(set)g(up)f
(host)h(side)h(tools.)148 2333 y Fl(2.1.1)92 b(MoteNIC)148
2508 y Fk(In)24 b(order)h(to)e(be)h(able)g(to)g(interact)h(with)f(T)m
(in)o(yDif)n(fusion)h(you)f(need)g(a)g(gate)n(w)o(ay)g(into)g(your)g
(netw)o(ork.)31 b(MoteNIC)148 2621 y(stands)25 b(for)e(Mote)g(Netw)o
(ork)h(Interf)o(ace)h(Card.)k(It)23 b(w)o(as)g(originally)i(de)n(v)o
(eloped)h(by)d(Jeremy)h(Elson)f(in)g(the)h(LECS)148 2734
y(at)j(UCLA.)d(MoteNIC)j(comes)g(with)g(a)f(userspace)j(de)n(vice)f
(dri)n(v)o(er)g Fg(moted)h Fk(for)e(Linux)h(v2.4+.)39
b(In)26 b(order)i(to)f(use)148 2846 y(this)32 b(dri)n(v)o(er)g(you)g
(will)f(also)i(need)f(to)f(install)i Fg(kfusd)1819 2813
y Fi(5)1859 2846 y Fk(.)51 b Fg(Kfusd)35 b Fk(and)d(moted)g(can)f(be)h
(found)g(in[3)r(])f(\(see)h Fg(micr)l(o-)148 2959 y(teer)o(s/fusd)d
Fk(and)24 b Fg(micr)l(oteer)o(s/mote/driver/)11 b Fk(\).)34
b(In)23 b(order)i(to)e(mak)o(e)h(MoteNIC)f(do)h(the)f(follo)n(wing:)203
3130 y Fd($cd)53 b(\(SCADDS)e(CVS\)/microteers/)o(mo)o(te)o(/t)o(os)o
(/ne)o(st)o(/a)o(pp)o(s/)o(tra)o(ns)o(ce)o(iv)o(er)203
3243 y($make)h(install)f(mica)289 3414 y Fk(This)31 b(should)i(produce)
g(a)d(mote)h(that)h(is)f(capable)i(of)e(sending)i(and)e(recei)n(ving)i
(messages.)53 b(Y)-10 b(ou)31 b(need)g(to)148 3527 y(connect)26
b(this)e(mote)f(to)h(a)f(serial)i(port)f(of)f(the)h(computer)h(that)f
(has)g Fg(moted)i Fk(installed)g(on)e(it.)289 3640 y(Before)29
b(you)f(proceed)i(an)o(y)e(further)i(you)e(need)h(to)f(test)g(your)h
(MoteNIC.)e(Program)h(a)g(second)i(mote)d(with)148 3753
y(MoteNIC)32 b(in)f(the)h(same)g(w)o(ay)f(as)h(abo)o(v)o(e.)54
b(Connect)32 b(the)g(second)i(mote)d(to)h(another)i(serial)e(port.)54
b(Note)32 b(that)148 3866 y(you)25 b(could)g(use)f(serial)g(ports)h(of)
f(the)g(same)g(or)f(dif)n(ferent)j(computers;)g(to)d(simplify)j
(further)f(description,)h(I)e(will)148 3979 y(assume)i(that)g(you)f
(are)g(using)h(tw)o(o)f(serial)h(ports)g(of)f(a)f(single)i(computer)-5
b(.)35 b(Run)25 b Fg(moted)i Fk(for)e(each)h(MoteNIC.)e(T)-7
b(o)148 4092 y(increase)26 b(probability)h(of)c(pack)o(et)i(deli)n(v)o
(ery)g(increase)h(the)d(transmission)k(po)n(wer:)203
4245 y Fd($echo)52 b(`pot=5')f(>)k(/dev/mote/1/co)o(mm)o(an)o(d)148
4398 y Fk(Do)23 b(the)h(follo)n(wing)h(the)f(to)f(test)h(their)h
(ability)g(to)e(communicate)j(in)d(the)h(follo)n(wing)h(w)o(ay:)289
4511 y(F)o(or)e(motenic)i(1)e(do:)203 4664 y Fd($cat)53
b(/dev/mote/0/fr)o(ag)289 4817 y Fk(F)o(or)23 b(motenic)i(2)e(do:)203
4970 y Fd($echo)52 b(`Hello)g(there!')f(>)j(/dev/mote/1/frag)148
5123 y Fk(\(note)25 b(that)f(mote)f(de)n(vice)i(numbers)g(depend)g(on)f
(the)g(parameters)h(that)f(you)g(ha)n(v)o(e)h(used)f(to)f(run)h
Fg(moted)r Fk(\))289 5235 y(If)k(e)n(v)o(erything)i(w)o(ork)o(ed,)f
(the)f(output)h Fg(Hello)f(ther)m(e!)42 b Fk(should)29
b(appear)g(in)f(the)g(\002rst)f(windo)n(w)-6 b(.)41 b(If)27
b(the)h(output)148 5348 y(does)d(not)f(appear)h(after)f(multiple)h
Fg(ec)o(ho)f Fk(commands,)g(you)g(may)f(need)i(to)e(go)h(back)g(and)g
(check)h(your)f(setup.)p 148 5396 1436 4 v 254 5451 a
Ff(4)283 5483 y Fe(At)17 b(the)i(time)e(of)i(writing)e(these)i(dri)n(v)
o(ers)f(are)g(only)h(a)o(v)n(ailable)f(for)g(Linux)h(k)o(ernel)g(2.4+,)
f(so)g(you)h(need)g(an)g(appropriate)g(w)o(orkstation)254
5545 y Ff(5)283 5576 y Fe(This)f(is)h(a)g(frame)n(w)o(ork)h(for)e(de)n
(v)o(eloping)j(userspace)f(dri)n(v)o(ers,)f(written)f(by)i(Jeremy)f
(Elson)1920 5825 y Fk(3)p eop
%%Page: 4 4
4 3 bop 148 273 a Fl(2.1.2)92 b(T)n(inyDiffusion)148
447 y Fk(T)-7 b(o)23 b(compile)h(T)m(in)o(yDif)n(fusion,)h(do)f(the)g
(follo)n(wing:)203 635 y Fd($cd)53 b(\(SCADDS)e(CVS\)/microteers/)o(mo)
o(te)o(/t)o(os)o(/ne)o(st)o(/a)o(pp)o(s/)o(dif)o(fu)o(si)o(on)o(_s)o
(ens)o(or)203 748 y($make)h(install)f(mica)148 935 y
Fk(Program)24 b(as)g(man)o(y)f(of)g(these)i(nodes)g(as)e(you)h(need.)
148 1181 y Fl(2.1.3)92 b(Host)24 b(T)-8 b(ools)148 1355
y Fk(Before)29 b(you)g(can)f(test)h(T)m(in)o(yDif)n(fusion,)i(you)e
(need)g(to)f(compile)h(the)g(host)g(side)f(tools.)44
b(These)29 b(tools)g(reside)g(in)148 1468 y(the)24 b
Fg(dif)n(fcntl)i Fk(subdirectory)h(of)d Fg(dif)n(fusion)p
1455 1468 28 4 v 36 w(sensor)j Fk(directory)-6 b(.)203
1681 y Fd($cd)53 b(diffcntl)203 1794 y($make)148 2006
y Fk(No)n(w)30 b(lets)h(test)g(your)g(setup)h(again.)50
b(Open)31 b(a)f(ne)n(w)g(terminal)i(windo)n(w)e(and)h(run)g
Fg(dif)n(fdump)i Fk(from)d Fg(dif)n(fcntl)j Fk(di-)148
2119 y(rectory)-6 b(.)33 b(This)25 b(program)g(will)f(parse)i(all)e(T)m
(in)o(yDif)n(fusion)i(and)f(related)h(messages)g(that)f(MoteNIC)f(w)o
(as)g(able)h(to)148 2232 y(recei)n(v)o(e)g(and)f(present)h(them)f(in)f
(a)g(human)h(readable)i(form.)203 2420 y Fd($./diffdump)289
2607 y Fk(Note:)j Fg(dif)n(fdump)23 b Fk(displays)h(no)e(output)h(if)e
(there)i(are)e(no)h(messages)h(coming)g(from)e(MoteNIC)h(and)g(the)f
(only)148 2720 y(w)o(ay)j(to)f(terminate)i(it)e(is)h(Ctrl-C.)289
2833 y(In)g(another)h(terminal)g(windo)n(w)e(set)h(the)g(transmission)i
(po)n(wer)e(of)f(all)h(the)g(motes)g(to)f(maximum)203
3021 y Fd($./txpower)50 b(-1)j(5)148 3208 y Fk(At)37
b(this)g(point)i(you)e(should)i(see)f(a)e(fe)n(w)h(responses)j(in)d
(the)g(dif)n(fdump)i(windo)n(w)-6 b(.)69 b(If)37 b(messages)i(are)e
(being)148 3321 y(transmitted)g(by)e(the)f(T)m(in)o(yDif)n(fusion)i
(nodes,)j(the)o(y)c(change)h(the)e(state)i(of)e(the)h(red)g(led.)61
b(MoteNIC)35 b(signals)148 3434 y(transmission)28 b(with)d(a)f(state)i
(change)g(in)f(the)g(yello)n(w)g(led;)h(it)f(signals)h(reception)i
(with)c(the)i(green)f(led.)33 b(Use)25 b(this)148 3547
y(information)h(to)e(v)o(erify)g(your)h(set)e(up)h(and)g(to)f(detect)i
(problems.)148 3796 y Fj(2.2)99 b(Pr)n(eparation)148
3971 y Fk(Before)29 b(you)f(can)g(use)h(T)m(in)o(yDif)n(fusion)g(you)f
(need)h(to)f(assign)h(IDs)f(and)g(coordinates)j(to)d(the)g(nodes.)43
b(Y)-10 b(ou)28 b(also)148 4084 y(need)d(to)e(set)h(an)f(appropriate)k
(transmission)f(po)n(wer)e(in)g(order)g(to)g(run)f(multi-hop)j(e)o
(xperiments.)148 4329 y Fl(2.2.1)92 b(ID)23 b(assignment)148
4504 y Fk(In)37 b(the)g(current)h(implementation)i(of)c(T)m(in)o(yDif)n
(fusion)i(each)g(node)f(needs)h(to)f(ha)n(v)o(e)g(a)f(unique)i(ID)e
(\(a)h(MA)l(C)148 4617 y(address\).)68 b Fg(Please)36
b(note)h(that,)i(these)d(IDs)g(ar)m(e)f(stor)m(ed)i(in)f(RAM.)2326
4584 y Fi(6)2397 4617 y Fg(ID)f(needs)h(to)g(be)g(r)m(eset)g(e)o(very)h
(time)e(the)148 4730 y(T)-5 b(inyDif)n(fusion)24 b(node)d(is)f(power)m
(ed)i(on.)28 b Fk(Another)21 b(piece)h(of)e(unique)i(information)h
(that)f(is)e(necessary)j(for)e(correct)148 4842 y(operation)39
b(of)d(T)m(in)o(yDif)n(fusion)h(is)f(the)g(location)i(of)e(a)f(node.)67
b(Locations)38 b(are)e(deri)n(v)o(ed)h(from)f(ID)f(using)i(the)148
4955 y(follo)n(wing)25 b(formulae:)148 5068 y Fc(x)h
Fb(=)e Fc(I)7 b(D)s(mod)p Fb(100)148 5181 y Fc(y)28 b
Fb(=)d Fc(I)7 b(D)s(=)p Fb(100)148 5294 y Fk(Note:)29
b Fc(x)23 b Fk(and)h Fc(y)i Fk(are)d(inte)o(gers)289
5407 y(Use)h(the)f(follo)n(wing)i(procedure)i(to)c(assign)i(IDs)e(to)g
(all)h(of)g(the)f(nodes:)p 148 5468 1436 4 v 254 5524
a Ff(6)283 5556 y Fe(On)c(RENE)f(motes)h(this)f(enabled)i(parallel)f
(programming)i(of)e(nodes)h(since)f(the)g(same)g(FLASH)e(image)j(is)e
(used)i(by)f(e)n(v)o(eryone.)1920 5825 y Fk(4)p eop
%%Page: 5 5
5 4 bop 262 273 a Fk(1.)46 b(T)l(urn)23 b(of)n(f)g(all)h(of)f(the)h
(dif)n(fusion)i(nodes)262 458 y(2.)46 b(T)l(urn)23 b(on)h(one)g(of)f
(the)h(turned)h(of)n(f)e(nodes)262 643 y(3.)46 b(Set)22
b(its)i(ID)f(by)g(running:)430 860 y Fd($./txid)52 b(<id>)376
1077 y Fk(Y)-10 b(ou)22 b(may)g(not)h(see)g(a)f(response,)j(in)e(the)f
Fg(dif)n(fdump)j Fk(windo)n(w)2282 1044 y Fi(7)2320 1077
y Fk(,)c(b)n(ut)j(you)f(should)h(see)f(the)g(change)h(of)e(state)376
1190 y(of)h(the)h(red)g(led.)262 1375 y(4.)46 b(If)23
b(there)h(are)g(turned)h(of)n(f)e(motes,)h(go)g(back)g(to)g(step)g(2)
289 1579 y(It)33 b(is)g(time)f(for)h(another)l(,)k(more)c(interesting,)
38 b(test.)56 b(This)33 b(time)g(you)g(are)g(going)h(to)f(send)g(a)g(v)
o(ery)g(simple)148 1692 y(query)-6 b(.)52 b(Lets)30 b(assume)i(that)f
(you)g(ha)n(v)o(e)g(a)g(dif)n(fusion)i(node)e(with)g(ID)e(0101)j(and)f
(coordinates)j(\(1,1\).)51 b(Use)30 b(the)148 1805 y
Fg(inter)m(est)d Fk(program)e(to)e(send)i(an)e(e)o(xploratory)k
(interest)e(message:)148 2009 y Fd($./interest)148 2122
y(Creating)51 b(a)j(new)f(interest)e(\(Ctrl-C)h(to)h(exit\))g(:)148
2235 y(Enter)g(the)g(region)f(\(lower)f(left)i(and)g(upper)g(right:)e
(x1,y1,x2,y2\):1,1)o(,1)o(,1)148 2348 y(Enter)i(the)g(type:1)148
2461 y(Enter)g(the)g(interval:0)148 2574 y(Enter)g(the)g
(expiration:100)148 2687 y(Enter)g(the)g(send)f(address:12)148
2800 y(Enter)h(the)g(dest.)f(address)f(\(-1)j(for)f(broadcast)d(==)k
(exploratory\):-)o(1)148 2913 y(Sending)e(the)h(following)d(interest:)
148 3026 y([INTEREST])g(dest:65535)g(type:1)i(\(1,1\)-\(1,1\))e
(interval:0)g(expiration:100)e(sender:12)148 3230 y Fk(\(meanings)26
b(of)d(all)h(\002elds)g(will)f(be)g(e)o(xplained)j(in)e(a)f(later)h
(section\))289 3343 y(Y)-10 b(ou)25 b(may)f(need)h(to)g(send)g(this)g
Fg(inter)m(est)i Fk(multiple)f(times)f(due)g(to)f(pack)o(et)i(loss.)32
b(Responses)27 b(should)f(appear)148 3456 y(in)37 b Fg(dif)n(fdump)i
Fk(windo)n(w)-6 b(.)69 b(All)36 b(nodes)j(should)f(rebroadcast)i(the)e
(e)o(xploratory)i Fg(inter)m(est)r Fk(;)45 b(node)38
b(0101)g(should)148 3569 y(responds)26 b(with)e(data)g(from)f(it')-5
b(s)24 b(light)h(sensor)g(\(because)g(we)e(ha)n(v)o(e)h(speci\002ed)h
(type)f Fb(1)g Fk(abo)o(v)o(e\).)148 3813 y Fl(2.2.2)92
b(The)22 b(Hard)h(P)o(art:)29 b(Setting)24 b(Up)e(A)g(Communication)h
(T)-8 b(opology)148 3988 y Fk(The)19 b(last)g(and)h(the)f(hardest)h
(step)g(in)f(preparation)j(is)d(setting)h(up)f(the)h(netw)o(ork)g
(topology)-6 b(.)30 b(Use)18 b Fg(txpower)k Fk(program)148
4101 y(to)30 b(set)f(and)h(test)g(the)g(le)n(v)o(el)g(of)f(the)h(po)n
(wer)g(of)f(each)h(of)g(the)g(nodes)h(in)e(the)h(netw)o(ork.)48
b Fg(The)29 b(good)h(ne)o(ws)f(is)h(that)148 4214 y(this)j(setup)h
(need)g(to)e(be)h(done)g(only)h(once)o(,)h(because)g(power)e(setting)h
(is)f(stor)m(ed)g(in)g(the)g(EEPR)l(OM.)c Fk(General)148
4326 y(procedure)d(for)e(setting)h(up)f(a)f(multi-hop)i(topology)h(is)e
(the)g(follo)n(wing)2399 4293 y Fi(8)2438 4326 y Fk(:)285
4507 y Fh(\017)46 b Fk(Arrange)24 b(all)g(nodes)h(on)e(a)g(2D)g(plane)
285 4692 y Fh(\017)46 b Fk(F)o(or)22 b(each)i(node)485
4877 y Fl(\226)46 b Fk(Place)29 b(MoteNIC)h(ne)o(xt)g(to)g(the)g
(geometrically)j(furthest)e(node)g(that)f Fg(should)k
Fk(be)c(able)h(to)e(recei)n(v)o(e)576 4990 y(and)24 b(pick)g(a)f(lo)n
(west)h(po)n(wer)f(le)n(v)o(el)h(at)g(which)f(such)i(reception)h(is)d
(possible)485 5134 y Fl(\226)46 b Fk(Place)21 b(MoteNIC)h(ne)o(xt)g(to)
f(the)h(geometrically)j(closest)e(node)g(that)f Fg(should)h(not)h
Fk(be)d(able)i(to)e(recei)n(v)o(e)576 5247 y(and)j(increase)h(the)f(po)
n(wer)g(le)n(v)o(el)f(just)h(belo)n(w)g(the)g(le)n(v)o(el)g(at)f(which)
h(this)g(node)h(is)e(able)h(to)g(recei)n(v)o(e)p 148
5305 1436 4 v 254 5360 a Ff(7)283 5392 y Fe(Node)19 b(will)f(only)i
(respond)g(once.)254 5453 y Ff(8)283 5485 y Fe(W)-6 b(e)22
b(ha)o(v)o(e)h(attempted)h(to)e(automate)i(this)f(process.)36
b(T)-6 b(ak)o(e)23 b(a)g(look)g(at)g Fa(calibr)o(ate)g
Fe(program)h(in)f Fa(dif)o(fcntl)p Fe(.)34 b(Ho)n(we)n(v)o(er)24
b(it)e(may)h(need)h(a)148 5576 y(little)18 b(tuning.)1920
5825 y Fk(5)p eop
%%Page: 6 6
6 5 bop 289 273 a Fk(W)-7 b(e)31 b(ha)n(v)o(e)h(found)h(it)e(v)o(ery)h
(hard)g(to)f(create)i(more)e(than)i(2-3)e(hop)h(topologies)j(within)d
(a)f(small)g(area)h(\(4x4)148 386 y(sq.)52 b(ft.\).)g(The)31
b(potentiometer)j(on)e(the)f(mote)h(may)f(not)h(pro)o(vide)g(suf)n
(\002cient)h(granularity)h(to)e(establish)h(good)148
499 y(topologies)26 b(at)c(these)i(small)f(scales)1279
466 y Fi(9)1318 499 y Fk(.)28 b(Y)-10 b(ou)22 b(may)h(need)g(to)g
(rearrange)i(nodes)e(to)g(achie)n(v)o(e)h(desired)g(connecti)n(vity)-6
b(.)289 612 y(Asymmetric)31 b(links)g(is)f(another)h(problem)g(that)g
(arises)g(when)f(transmit)h(po)n(wer)f(is)f(tuned)i(do)n(wn.)48
b(As)29 b(the)148 724 y(time)c(of)f(writing)h(we)f(ha)n(v)o(e)h(not)f
(found)i(an)f(ele)o(gant)g(solution)h(to)f(this)g(problem.)32
b(The)24 b(best)h(approximations)j(so)148 837 y(f)o(ar)c(ha)n(v)o(e)g
(been)h(neighbor)g(list)f(based)h(techniques)1751 804
y Fi(10)1826 837 y Fk(.)148 1087 y Fj(2.3)99 b(Running)26
b(Diffusion)f(Queries)148 1261 y Fk(After)37 b(all)h(the)f(preparation)
j(and)e(testing)g(you)g(are)f(ready)i(to)e(use)g(your)h(wireless)g
(sensor)h(netw)o(ork)f(to)f(run)148 1374 y(some)27 b(queries.)40
b(As)26 b(you)i(already)g(kno)n(w)f(querying)i(process)f(in)f(Directed)
h(Dif)n(fusion)g(consists)h(of)e(tw)o(o)f(steps:)148
1487 y(disco)o(v)o(ery)-6 b(,)26 b(and)e(reinforcement.)148
1733 y Fl(2.3.1)92 b(Disco)o(v)o(ery)148 1907 y Fk(Before)22
b(you)f(can)h(retrie)n(v)o(e)g(sensor)g(data)g(from)e(a)h(sensor)h
(netw)o(ork)g(you)g(need)g(to)e(\002nd)h(a)f(path)i(to)f(the)g
(appropriate)148 2020 y(sensors.)52 b(This)30 b(is)h(accomplished)j(by)
c(sensing)j(and)e(e)o(xploratory)i Fg(inter)m(est)p Fk(.)52
b(Y)-10 b(ou)30 b(already)j(ha)n(v)o(e)e(e)o(xperience)148
2133 y(with)24 b(sending)h(interest)h(from)d(section)i(2.2.1.)k(Lets)23
b(tak)o(e)i(a)e(more)g(detailed)j(look)e(at)f(interest)j(sending:)148
2345 y Fd($./interest)148 2458 y(Creating)51 b(a)j(new)f(interest)e
(\(Ctrl-C)h(to)h(exit\))g(:)148 2571 y(Enter)g(the)g(region)f(\(lower)f
(left)i(and)g(upper)g(right:)e(x1,y1,x2,y2\):0,0)o(,1)o(0,)o(10)148
2784 y Fk(Here)24 b(you)g(specify)h(a)e Fg(g)o(eo)o(gr)o(aphical)k(r)m
(e)l(gion)f Fk(for)d(your)i(query)-6 b(.)148 2996 y Fd(Enter)53
b(the)g(type:2)148 3209 y Fg(T)-7 b(ype)24 b Fk(denotes)h(the)f(type)h
(of)e(data)h(of)g(your)g(query)-6 b(.)30 b(1)23 b(\226)g(light,)i(2)e
(\226)g(temperature)2683 3176 y Fi(11)2757 3209 y Fk(.)148
3396 y Fd(Enter)53 b(the)g(interval:4)148 3509 y(Enter)g(the)g
(expiration:100)148 3697 y Fg(Interval)24 b Fk(and)e
Fg(e)n(xpir)o(ation)j Fk(denote)e(time)f(interv)n(al)h(between)g
(samples)g(and)f(total)h(acti)n(v)o(e)f(time)g(of)g(query)-6
b(,)23 b(respec-)148 3810 y(ti)n(v)o(ely)-6 b(.)31 b(The)23
b(time)h(unit)g(is)g(1)g(second)1314 3777 y Fi(12)1387
3810 y Fk(.)k(Note)c(that)h(interv)n(al)g(of)f(0)f(implies)i(1)f
(second)h(delay)g(between)g(samples)148 3923 y(\(delay)g(b/w)e(samples)
i(=)e(interv)n(al)i(+)e(1\))h(.)j(Exploratory)f(interests)g(usually)g
(specify)f(lo)n(w)e(data)h(rates.)148 4110 y Fd(Enter)53
b(the)g(send)f(address:12)148 4298 y Fg(Send)25 b(addr)m(ess)g
Fk(denotes)g(the)e(address)i(from)f(which)f(your)i(message)f(is)f
(going)i(to)e(appear)i(to)e(be.)29 b(This)23 b(could)h(be)148
4411 y(a)i(virtual)h(address)h(that)f(you)f(assign)h(to)f(your)h(base)g
(station)g(\(MoteNIC\).)f(In)g(general,)i(it)e(is)f(recommended)j(to)
148 4524 y(use)c(a)f(unique)i(node)g(address)1095 4491
y Fi(13)1168 4524 y Fk(.)148 4711 y Fd(Enter)53 b(the)g(dest.)f
(address)f(\(-1)j(for)f(broadcast)d(==)k(exploratory\):-)o(1)p
148 4773 1436 4 v 254 4828 a Ff(9)283 4860 y Fe(This)18
b(problem)i(is)f(not)g(speci\002c)g(to)g(our)g(application.)24
b(It)18 b(is)h(a)f(hardw)o(are)i(problem.)229 4921 y
Ff(10)283 4953 y Fe(Link)26 b(layer)g(component)i(that)e(implements)g
(this)g(technique)i(is)d(a)o(v)n(ailable)h(in)g(SCADDS)f(CVS,)g(b)o(ut)
h(has)g(not)h(been)f(used)h(with)148 5044 y(T)m(in)o(yDif)n(fusion)229
5106 y Ff(11)283 5138 y Fe(These)19 b(types)g(are)g(de\002ned)h(in)f
(DIFFNODE.inc)229 5199 y Ff(12)283 5231 y Fe(T)m(iming)g(can)g(be)h
(adjusted)f(by)h(changing)g(the)f(v)n(alue)h(of)f(CLOCK)p
2012 5231 23 4 v 26 w(DIV)f(in)h(DIFFNODE.inc.)229 5292
y Ff(13)283 5324 y Fe(F)o(or)h(deb)o(ugging)j(purposes)g(it)d(may)h
(useful)h(to)f Fa(fak)o(e)g Fe(a)g(message)h(from)g(one)f(of)g(the)g
(nodes)i(of)e(the)g(netw)o(ork,)h(b)o(ut)f(you)h(must)f(kno)n(w)148
5415 y(what)e(you)h(are)f(doing.)1920 5825 y Fk(6)p eop
%%Page: 7 7
7 6 bop 148 273 a Fg(Destination)30 b(addr)m(ess)f Fk(is)e(the)g
(destination)j(of)d(the)h(interest.)41 b(In)27 b(the)g(current)i
(implementation)h(of)d(T)m(in)o(yDif)n(fu-)148 386 y(sion,)f
Fg(e)n(xplor)o(atory)i Fk(is)d(it)g(broadcasted)1382
353 y Fi(14)1481 386 y Fk(to)g(all)g(of)g(the)h(neighbors.)35
b(If)25 b(you)h(w)o(ant)f(to)g(reinforce)i(and)f(particular)148
499 y(path,)e(the)g(destination)j(address)e(w)o(ould)f(be)g(set)g(to)f
(the)h(address)h(of)f(that)g(node.)148 686 y Fd(Sending)52
b(the)h(following)d(interest:)148 799 y([INTEREST])g(dest:65535)g
(type:2)i(\(0,0\)-\(10,10\))d(interval:4)h(expiration:100)e(sender:12)
148 987 y Fk(This)24 b(line)g(simply)g(restates)h(all)f(the)g(input)g
(v)n(alues)h(pro)o(vided)h(by)d(you.)289 1100 y(After)d(you)h(send)g
(this)f(interest)i(you)f(should)g(see)g(rebroadcasted)j(interests)e
(from)e(other)h(nodes)g(in)f(dif)n(fdump)148 1213 y(windo)n(w)-6
b(.)29 b(After)23 b(interest)j(reaches)f(the)f(destination)j(re)o
(gion,)d(the)g(data)g(should)h(start)f(\003o)n(wing)g(back.)148
1459 y Fl(2.3.2)92 b(Reinf)n(or)n(cement)148 1633 y Fk(After)34
b(you)h(see)f(a)g(fe)n(w)f(data)i(messages)g(directed)i(to)c(the)i
(base)g(state)f(\(destination)k(address)e(==)e(12\))g(in)g(the)148
1746 y(dif)n(fdump)23 b(windo)n(w)-6 b(,)21 b(you)g(can)h(choose)g(to)f
(increase)i(the)f(data)f(rate)h(and)f(e)o(xpiration)j(one)d(or)g(more)g
(data)h(sources.)148 1859 y(This)j(process)j(is)d(called)h
(reinforcement)j(in)c(Directed)i(Dif)n(fusion.)35 b(Y)-10
b(ou)25 b(can)h(send)g Fg(r)m(einfor)m(cements)i Fk(using)f(the)148
1972 y(same)33 b(interest)h(program)g(as)f(you)g(used)g(to)g(send)g
(initial)h Fg(inter)m(est)p Fk(.)57 b(If)33 b(you)g(w)o(ant)g(to)f
(reinforce)j(temperature)148 2084 y(data)29 b(from)e(a)h(node)g(at)g
(location)h(\(3,4\))g(and)f(the)g(shortest)h(path)2175
2051 y Fi(15)2274 2084 y Fk(lies)g(through)g(node)g(with)e(address)j
(31,)e(your)148 2197 y(interaction)f(with)c(interest)j(program)e(w)o
(ould)g(look)h(as)e(follo)n(wing:)148 2385 y Fd($./interest)148
2498 y(Creating)51 b(a)j(new)f(interest)e(\(Ctrl-C)h(to)h(exit\))g(:)
148 2611 y(Enter)g(the)g(region)f(\(lower)f(left)i(and)g(upper)g
(right:)e(x1,y1,x2,y2\):3,4)o(,3)o(,4)148 2724 y(Enter)i(the)g(type:2)
148 2837 y(Enter)g(the)g(interval:0)148 2950 y(Enter)g(the)g
(expiration:200)148 3062 y(Enter)g(the)g(send)f(address:12)148
3175 y(Enter)h(the)g(dest.)f(address)f(\(-1)j(for)f(broadcast)d(==)k
(exploratory\):3)o(1)148 3288 y(Sending)e(the)h(following)d(interest:)
148 3401 y([INTEREST])g(dest:31)i(type:1)f(\(3,4\)-\(3,4\))f
(interval:0)g(expiration:200)e(sender:12)148 3589 y Fk(Note)29
b(that)h(re)o(gion)g(includes)h(only)f(one)f(point)i(and)e(destination)
j(address)f(is)e(set)g(to)g(the)g(address)i(of)e(the)g(node)148
3702 y(that)c(has)f(the)g(shortest)i(path.)k(Interv)n(al)25
b(is)f(set)g(to)g(zero)g(for)g(the)g(highest)i(possible)g(data)e(rate)h
(of)e(one)h(sample)h(per)148 3815 y(second.)148 4107
y Fm(3)120 b(Extending)30 b(T)n(inyDiffusion)148 4314
y Fk(No)n(w)22 b(that)h(you)g(ha)n(v)o(e)g(e)o(xperienced)j(basic)d
(capabilities)j(of)d(T)m(in)o(yDif)n(fusion,)h(you)f(are)g(ready)g(to)g
(b)n(uild)h(you)f(o)n(wn)148 4427 y(applications.)32
b(Before)24 b(you)f(start)h(b)n(uilding)h(your)f(application,)h(you)f
(need)f(to)g(learn)h(ho)n(w)e(T)m(in)o(yDif)n(fusion)i(code)148
4540 y(is)g(structured.)148 4789 y Fj(3.1)99 b(Code)26
b(Structur)n(e)148 4964 y Fk(Most)c(of)g(the)h(T)m(in)o(yDif)n(fusion)g
(logic)g(and)g(application)i(code)e(is)e(located)j(in)e(DIFFNODE.c.)j
(This)d(\002le)f(includes)148 5076 y(message)i(handlers)h(and)f(timer)e
(e)n(v)o(ent)i(handler)-5 b(.)30 b(These)22 b(handlers)i(hea)n(vily)f
(relay)g(on)f(libraries)i(that)e(implement)148 5189 y(dif)n(fusion)28
b(data)e(structure)i(construction)h(and)c(access)i(methods.)36
b(The)25 b(libraries)i(are)f(located)h(in)e(Dif)n(fNodeInc)148
5302 y(directory)-6 b(.)p 148 5364 1436 4 v 229 5419
a Ff(14)283 5451 y Fe(Alternati)n(v)o(ely)h(,)19 b(scoped)h(\003ooding)
g(or)f(geographic)h(routing)g(could)f(be)h(used.)229
5512 y Ff(15)283 5544 y Fe(Based)f(on)h(the)e(hops)i(to)f(source)h
(\002eld)e(in)h(e)o(xploratory)h(data)f(messages)1920
5825 y Fk(7)p eop
%%Page: 8 8
8 7 bop 289 273 a Fk(T)m(in)o(yDif)n(fusion)39 b(data)e(structures)j
(include)f Fg(inter)m(est)f(table)p Fk(,)j Fg(gr)o(adient)e(table)p
Fk(,)i Fg(location)e(table)f Fk(and)f Fg(data)148 386
y(cac)o(he)357 353 y Fi(16)430 386 y Fk(.)48 b(T)-7 b(ype)29
b(information)k(is)d(stored)i(in)e(interest)i(table,)h(location)f
(information)h(is)d(stored,)j(respecti)n(v)o(ely)-6 b(,)148
499 y(in)32 b(the)g(location)i(table.)54 b(The)31 b(gradient)j(table)f
(refers)g(to)e(interest)j(and)e(location)i(tables)f(to)f(specify)h
(gradient)148 612 y(attrib)n(utes.)46 b(In)28 b(addition)j(to)d(that,)i
(the)e(gradient)j(table)e(contains)h(rate)f(and)g(e)o(xpiration)h
(information)h(for)e(each)148 724 y(gradient.)52 b(Each)30
b(interest)i(entry)f(caches)h(the)f(highest)h(rate)f(gradient)h(to)f(a)
n(v)n(oid)g(e)o(xtensi)n(v)o(e)h(lookup)g(on)f(e)n(v)o(ery)148
837 y(timer)e(e)n(v)o(ent.)46 b(Attrib)n(ute)30 b(information)i(in)d
(the)g(location)i(and)e(the)h(interest)g(tables)h(is)d(matched)j(for)e
(incoming)148 950 y(messages.)289 1063 y(The)35 b(data)g(cache)h(is)e
(used)i(to)f(store)g(incoming)i(data)e(messages.)64 b(Note)35
b(that)g(reinforcement)j(polic)o(y)d(is)148 1176 y(directly)29
b(related)g(to)d(the)i(data)f(caching)i(polic)o(y)-6
b(.)40 b(In)27 b(order)h(to)f(reinforce)i(a)e(path)g(T)m(in)o(yDif)n
(fusion)i(node)f(simply)148 1289 y(\002nds)c(a)f(data)h(with)f
(matching)j(attrib)n(utes)g(and)e(sends)h(reinforcement)h(to)e(the)f
(sender)i(of)f(the)g(data.)289 1402 y(Some)k(con\002guration)j
(parameters)f(of)d(T)m(in)o(yDif)n(fusion)j(as)e(contained)i(in)e
(DIFFNODE.inc.)40 b(T)-7 b(able)27 b(sizes)148 1515 y(are)d(de\002ned)g
(in)g(Dif)n(fT)-7 b(able.inc)24 b(and)g(DataCache.inc)1855
1482 y Fi(17)1929 1515 y Fk(.)148 1764 y Fj(3.2)99 b(Ho)o(w)25
b(to)g(Build)g(Y)-11 b(our)25 b(Own)g(A)n(pplication)148
1938 y Fk(In)20 b(this)g(section)h(you)f(will)f(\002nd)g(general)i
(guidelines)h(on)e(b)n(uilding)i(your)e(application)j(on)c(top)h(of)f
(T)m(in)o(yDif)n(fusion;)148 2051 y(study)25 b(the)f(code)g(to)g(get)f
(more)h(information.)289 2164 y(It)c(is)f(v)o(ery)i(easy)f(to)g(e)o
(xtend)h(T)m(in)o(yDif)n(fusion)g(to)f(use)g(ne)n(w)f(data)h(types.)29
b(In)19 b(DIFFNODE.c)e(do)j(the)g(follo)n(wing:)262 2352
y(1.)46 b(add)24 b(a)f(ne)n(w)g(v)n(ariable)i(to)e(the)h(frame)g(\(e)o
(x:)29 b(supersensorData\))262 2539 y(2.)46 b(modify)24
b(ClockT)m(ickT)-7 b(ask,)24 b(add)g(sampling)i(of)d(your)h(sensor)262
2727 y(3.)46 b(modify)24 b(produceData)i(function)262
2915 y(4.)46 b(add)18 b(an)g(ADC)e(callback)21 b(\(see)d(DIFFNODE)p
1777 2915 28 4 v 30 w(SUB)p 1985 2915 V 32 w(ADC)p 2210
2915 V 32 w(PHO)l(T)n(O)p 2541 2915 V 31 w(D)l(A)-10
b(T)i(A\).)16 b(This)h(is)h(the)h(biggest)h(change,)376
3028 y(because)25 b(it)e(requires)j(changing)g(DIFFNODE.comp)21
b(and)j(dif)n(fnode.desc)i(\002les.)289 3215 y(If)33
b(you)h(w)o(ant)f(to)f(modify)i(reinforcement)i(polic)o(y)-6
b(,)36 b(read)e(notes)g(in)f(the)g(source)i(code)e(for)h(data)f
(message)148 3328 y(handler\(DIFFNODE)p 905 3328 V 33
w(RX)p 1065 3328 V 32 w(D)l(A)-10 b(T)i(A)p 1329 3328
V 31 w(MSG\).)26 b(F)o(or)g(more)h(comple)o(x)h(modi\002cation)g(you)g
(need)g(to)f(study)h(source)148 3441 y(code.)i Fg(Note)22
b(that)i(we)e(a)g(planning)k(to)d(mak)o(e)g(some)f(lar)m(g)o(e)i(scale)
g(c)o(hang)o(es)h(to)d(T)-5 b(inyDif)n(fusion,)26 b(see)d(section)i(4)d
(for)148 3554 y(mor)m(e)148 3847 y Fm(4)120 b(Futur)n(e)30
b(W)-9 b(ork)148 4054 y Fk(In)35 b(the)h(future)g(we)e(plan)i(to)f(de)n
(v)o(elop)h(a)f(simpli\002ed)h(publish/subscribe)k(API)34
b(that)i(w)o(ould)f(enable)i(b)n(uilding)148 4166 y(applications)e(on)c
(top)g(of)g(the)g(T)m(in)o(yDif)n(fusion.)52 b(W)-7 b(e)30
b(belie)n(v)o(e)i(that)f(this)g(will)g(mak)o(e)g(T)m(in)o(yDif)n
(fusion)h(easier)g(to)148 4279 y(use.)i(T)m(in)o(yDif)n(fusion)27
b(w)o(ould)e(be)g(a)g(layer)h(in)f(the)g(protocol)i(stack.)35
b(Applications)28 b(will)c(still)i(be)f(able)h(to)f(bypass)148
4392 y(this)20 b(layer)-5 b(.)29 b(This)19 b(arrangement)j(will)d(also)
h(allo)n(w)g(to)f(use)h(dif)n(ferent)h(routing)h(mechanisms,)f(such)g
(as)e(geographic)148 4505 y(and/or)25 b(ener)n(gy-a)o(w)o(are)i
(routing,)e(to)e(be)h(decoupled)i(from)e(application)i(logic.)289
4618 y(The)21 b(main)h(penalty)h(for)f(publish/subscribe)27
b(implementation)d(of)e(T)m(in)o(yDif)n(fusion)h(will)e(be)g(the)h
(increase)h(in)148 4731 y(the)g(code)g(and)f(RAM)f(footprint.)30
b(Since)22 b(we)g(also)g(intend)i(to)e(switch)h(to)f(an)g(XML)e(style)
2933 4698 y Fi(18)3027 4731 y Fk(data)i(representation,)148
4844 y(this)i(will)g(increase)h(message)g(size.)p 148
4905 1436 4 v 229 4961 a Ff(16)283 4993 y Fe(By)19 b(reusing)g(common)i
(attrib)o(utes)d(as)h(much)g(as)g(possible)h(we)f(sa)o(v)o(e)g(RAM.)229
5054 y Ff(17)283 5086 y Fe(T)m(inOS)f(mak)o(e)i(scripts)f(remo)o(v)o(e)
g(*.h)g(\002les.)k(That)18 b(is)h(why)g(we)g(used)g(*.inc)g(for)g
(header)h(\002les.)229 5147 y Ff(18)283 5179 y Fe(V)-8
b(ery)j(,)18 b(v)o(ery)i(simpli\002ed!)1920 5825 y Fk(8)p
eop
%%Page: 9 9
9 8 bop 148 273 a Fm(Refer)n(ences)148 480 y Fk([1])47
b(C.)28 b(Intanagonwiw)o(at,)34 b(R.)28 b(Go)o(vindan)j(and)f(D.)e
(Estrin,)k(\224Directed)f(Dif)n(fusion:)43 b(A)28 b(Scalable)j(and)f
(Rob)n(ust)300 593 y(Communication)23 b(P)o(aradigm)f(for)f(Sensor)h
(Netw)o(orks,)-6 b(\224)22 b(A)l(CM/IEEE)d(International)26
b(Conference)d(on)f(Mo-)300 706 y(bile)i(Computing)h(and)f(Netw)o(orks)
g(\(MobiCom)g(2000\),)g(August)h(2000,)f(Boston,)g(Massachusetts.)148
893 y([2])47 b(T)m(in)o(yOS:)22 b(An)h(Operating)i(System)f(for)f(Netw)
o(ork)o(ed)i(Sensors)300 1006 y(http://tin)o(yos.millennium.ber)q(k)o
(e)q(le)o(y)-6 b(.e)q(du)148 1194 y([3])47 b(SCADDS)20
b(CVS)i(repository)-6 b(.)300 1307 y(http://he)o(y)g(.isi.edu/vie)n
(wcvs)148 1494 y([4])47 b(T)m(in)o(yOS)22 b(Sourcefor)n(ge)k
(repository)300 1607 y(http://sourcefor)n(ge.n)q(et/)q(pro)q(jec)q(ts/)
q(tinyos)148 1795 y([5])47 b(Linux-based)26 b(implementation)g(of)e
(Directed)h(Dif)n(fusion.)300 1908 y(Source)f(code:)30
b(http://www)-6 b(.isi.edu/scadds/tes)q(tb)q(eds)q(.html)1920
5825 y(9)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
