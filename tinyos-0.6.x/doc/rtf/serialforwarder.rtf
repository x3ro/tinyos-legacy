{\rtf1\ansi\ansicpg1252\uc1\deff0\stshfdbch0\stshfloch0\stshfhich0\stshfbi0\deflang1033\deflangfe1033{\fonttbl{\f0\froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}
{\f2\fmodern\fcharset0\fprq1{\*\panose 02070309020205020404}Courier New;}{\f36\froman\fcharset238\fprq2 Times New Roman CE;}{\f37\froman\fcharset204\fprq2 Times New Roman Cyr;}{\f39\froman\fcharset161\fprq2 Times New Roman Greek;}
{\f40\froman\fcharset162\fprq2 Times New Roman Tur;}{\f41\froman\fcharset177\fprq2 Times New Roman (Hebrew);}{\f42\froman\fcharset178\fprq2 Times New Roman (Arabic);}{\f43\froman\fcharset186\fprq2 Times New Roman Baltic;}
{\f44\froman\fcharset163\fprq2 Times New Roman (Vietnamese);}{\f56\fmodern\fcharset238\fprq1 Courier New CE;}{\f57\fmodern\fcharset204\fprq1 Courier New Cyr;}{\f59\fmodern\fcharset161\fprq1 Courier New Greek;}
{\f60\fmodern\fcharset162\fprq1 Courier New Tur;}{\f61\fmodern\fcharset177\fprq1 Courier New (Hebrew);}{\f62\fmodern\fcharset178\fprq1 Courier New (Arabic);}{\f63\fmodern\fcharset186\fprq1 Courier New Baltic;}
{\f64\fmodern\fcharset163\fprq1 Courier New (Vietnamese);}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;
\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;}{\stylesheet{
\ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs24\lang1033\langfe1033\cgrid\langnp1033\langfenp1033 \snext0 Normal;}{\*\cs10 \additive \ssemihidden Default Paragraph Font;}{\*
\ts11\tsrowd\trftsWidthB3\trpaddl108\trpaddr108\trpaddfl3\trpaddft3\trpaddfb3\trpaddfr3\trcbpat1\trcfpat1\tscellwidthfts0\tsvertalt\tsbrdrt\tsbrdrl\tsbrdrb\tsbrdrr\tsbrdrdgl\tsbrdrdgr\tsbrdrh\tsbrdrv 
\ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1024\langfe1024\cgrid\langnp1024\langfenp1024 \snext11 \ssemihidden Normal Table;}}{\*\rsidtbl \rsid1196961\rsid3364450\rsid5985451\rsid9242711}
{\*\generator Microsoft Word 10.0.2627;}{\info{\author Bret Hull}{\operator Bret Hull}{\creatim\yr2001\mo10\dy14\hr11\min31}{\revtim\yr2001\mo10\dy14\hr12\min25}{\version3}{\edmins54}{\nofpages2}{\nofwords652}{\nofchars3721}{\nofcharsws4365}{\vern16437}}
\margl1440\margr1440 \widowctrl\ftnbj\aenddoc\noxlattoyen\expshrtn\noultrlspc\dntblnsbdb\nospaceforul\hyphcaps0\horzdoc\dghspace120\dgvspace120\dghorigin1701\dgvorigin1984\dghshow0\dgvshow3\jcompress\viewkind1\viewscale100\nolnhtadjtbl\rsidroot1196961 
\fet0\sectd \sbknone\linex0\colsx360\sectdefaultcl\sftnbj {\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl2\pnucltr\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl3\pndec\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl4
\pnlcltr\pnstart1\pnindent720\pnhang {\pntxta )}}{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl6\pnlcltr\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang {\pntxtb (}
{\pntxta )}}{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl9\pnlcrm\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}\pard\plain \qc \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 
\fs24\lang1033\langfe1033\cgrid\langnp1033\langfenp1033 {\b\fs28\cf1\insrsid1196961 SerialForwarder}{\b\fs28\cf1\insrsid9242711  v 1.1}{\cf1\insrsid9242711 
\par }{\b\cf1\insrsid9242711 Bret Hull }{\b\cf1\insrsid5985451 \endash }{\b\cf1\insrsid9242711  }{\b\cf1\insrsid5985451 October 10, 2001}{\cf1\insrsid9242711 
\par 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\b\fs28\cf1\insrsid9242711 Purpose:}{\cf1\insrsid9242711 
\par 
\par The SerialForwarder}{\cf1\insrsid3364450  application}{\cf1\insrsid9242711  }{\cf1\insrsid3364450 is intended to allow multiple clients to communicate with a mote operating as a base station}{\cf1\insrsid9242711 .  }{\cf1\insrsid3364450 
Operating on the host PC connected to the mote via a serial port, the SerialForwarder provides a bi-directional packet stream to the clients on the network.  }{\cf1\insrsid9242711 This project was conceived with three main goals in mind:
\par 
\par (1)  The serial port is a limited resource that can only be opened by at most one application.  The SerialForwarder is intended take control of the serial port and act as a proxy between the attached mote and client applications.  
\par 
\par (2)  The method of communication between a mote and a host }{\cf1\insrsid5985451 PC}{\cf1\insrsid9242711  may change over time.  In addition, data collection may be easier from the TinyOS 
simulator rather than from a live mote network.  Rather than have each client application handle the possibly varying communication requirements, the SerialForwarder provides a consistent socket based abstraction for connecting to the motes.  Client appli
cations can be simplified and can easily take advantage of changes to the communications architecture.
\par 
\par (3)  Client applications need not be running on the PC physically connected to the mote.  In many cases, base stations will be distributed over a large a
rea, making physical access rather inconvenient.  In addition, client applications may want to pull data from multiple sources, rather than just one mote network.  Since the SerialForwarder is socket based, clients can be anywhere in the network and recei
ve multiple streams of data.
\par 
\par }{\b\fs28\cf1\insrsid9242711 Theory of Operation:}{\cf1\insrsid9242711 
\par 
\par The SerialForwarder can be configured to forward data from one of three sources: (1) internally generated dummy data, (2) the TinyOS }{\cf1\insrsid9242711 S}{\cf1\insrsid9242711 imulator, or (3) the serial port.  Selection of the dummy data source r
esults in the forwarding of packets}{\cf1\insrsid5985451 ,}{\cf1\insrsid9242711  }{\cf1\insrsid5985451 the}{\cf1\insrsid1196961  payload }{\cf1\insrsid5985451 of which }{\cf1\insrsid1196961 is an arbitrary sequence of bits}{\cf1\insrsid9242711 ; 
this source serves as an easy way to test out network connectivity.  If the TinyOS simulator is chosen as a source, the SerialForwarder creates a listen thread which waits for the simulator to c
onnect (meaning, the SerialForwarder must be started before the simulator), and then forwards }{\cf1\insrsid5985451 to clients }{\cf1\insrsid9242711 packets generated from the simulated mote network.  Finally, if the serial port is chosen as }{
\cf1\insrsid5985451 the}{\cf1\insrsid9242711  data source, bytes are read from the serial port (which can be specified on the command line) and are forwarded to clients once a sufficient number of bytes }{\cf1\insrsid5985451 
(as defined by the packet size) }{\cf1\insrsid9242711 have been read.  }{\cf1\insrsid1196961 Once a source has been specified and a}{\cf1\insrsid9242711 fter initialization}{\cf1\insrsid1196961  completes}{\cf1\insrsid9242711 
, the SerialForwarder creates a server socket to listen for connections from client applications.  Once a client connects, it immediately receives a real time stream of packets from the data source.  Clients are free to connect and disconnect at will.}{
\cf1\insrsid1196961   When no clients are connected, the data source is closed and packets are no longer read until a client reconnects.}{\cf1\insrsid9242711 
\par }{\cf1\insrsid1196961 
\par Note: }{\cf1\insrsid9242711 the TinyOS Simulator}{\cf1\insrsid1196961  data source is not currently implemented
\par }{\cf1\insrsid9242711 \page }{\b\fs28\cf1\insrsid9242711 Getting Started:}{\cf1\insrsid9242711 
\par 
\par The SerialForwarder is }{\cf1\insrsid1196961 a }{\cf1\insrsid9242711 tool written in }{\cf1\insrsid1196961 J}{\cf1\insrsid9242711 ava that relies upon the javax/comm library for access to a PC\rquote 
s serial ports.  If the javax/comm libraries are not installed, serial port access will not work.
\par 
\par 1.  }{\cf1\insrsid1196961 Go to the tools directory in the NEST distribution}{\cf1\insrsid9242711 : }{\f2\fs20\cf1\insrsid9242711 nest/tools}{\cf1\insrsid9242711 
\par 2.  type \lquote }{\f2\fs20\cf1\insrsid9242711 make serialforwarder.jar}{\cf1\insrsid9242711 \rquote 
\par 3.  type \lquote }{\f2\fs20\cf1\insrsid9242711 java -jar serialforward}{\f2\fs20\cf1\insrsid1196961 er}{\f2\fs20\cf1\insrsid9242711 .jar}{\cf1\insrsid9242711 \rquote 
\par 
\par The SerialForwarder has several command line options:
\par }\pard \ql \fi-3600\li3600\ri0\nowidctlpar\faauto\rin0\lin3600\itap0 {\cf1\insrsid9242711 
\par }\pard \ql \fi-3600\li3600\ri0\sa120\nowidctlpar\faauto\rin0\lin3600\itap0\pararsid1196961 {\cf1\insrsid9242711 -no-gui\tab no GUI; all output directed to terminal window
\par -source [serial | dummy | sim ] \tab specifies which of the three possible data sources the SerialForwarder should use }{\cf1\insrsid9242711 (}{\cf1\insrsid9242711 default: }{\cf1\insrsid1196961 serial}{\cf1\insrsid9242711 )}{\cf1\insrsid9242711 
\par }{\cf1\insrsid9242711 -port [port }{\cf1\insrsid9242711 #]\tab }{\cf1\insrsid9242711 where}{\cf1\insrsid9242711  port}{\cf1\insrsid9242711  #}{\cf1\insrsid9242711  }{\cf1\insrsid9242711 is the port }{\cf1\insrsid9242711 
on which the SerialForwarder should listen for incoming connections}{\cf1\insrsid9242711  (default: 9000)}{\cf1\insrsid9242711 
\par -comm [serial port]  \tab specifies the}{\cf1\insrsid1196961  serial port to open }{\cf1\insrsid9242711 (}{\cf1\insrsid1196961 default: COM1}{\cf1\insrsid9242711 )}{\cf1\insrsid9242711 
\par -packetsize [size]\tab the size of the pac}{\cf1\insrsid9242711 kets read from the data source (}{\cf1\insrsid9242711 default: 3}{\cf1\insrsid1196961 6}{\cf1\insrsid9242711 )}{\cf1\insrsid9242711 
\par -quiet\tab do not display any messages
\par -verbose\tab display extra messages
\par }\pard \ql \fi-3600\li3600\ri0\nowidctlpar\faauto\rin0\lin3600\itap0 {\cf1\insrsid9242711 
\par Example:
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\cf1\insrsid9242711 
\par }{\cf1\insrsid1196961 T}{\cf1\insrsid9242711 o start the SerialForwarder listening on port 9001, from COM2, with a packet size of 15, and without the gui, type:
\par 
\par }{\f2\fs20\cf1\insrsid9242711 java -jar serialforward}{\f2\fs20\cf1\insrsid1196961 er}{\f2\fs20\cf1\insrsid9242711 .jar -no-gui -port 9001 }{\f2\fs20\cf1\insrsid5985451 \endash source serial }{\f2\fs20\cf1\insrsid9242711 -comm COM2 -packetsize 15
\par }{\f2\fs20\cf1\insrsid1196961 
\par }\pard \ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0\pararsid1196961 {\insrsid1196961 To start the SerialForwarder listening on port 9000 (default), reading dummy data, with packet size of 36 (default), and with the gui, type:

\par 
\par }{\f2\fs20\cf1\insrsid1196961 java \endash jar serialforwarder.jar \endash source dummy
\par 
\par }{\f2\fs20\cf1\insrsid1196961\charrsid1196961 
\par }\pard \ql \fi-3600\li3600\ri0\nowidctlpar\faauto\rin0\lin3600\itap0 {\cf1\insrsid9242711 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\cf1\insrsid9242711 
\par 
\par }}